import 'babel-polyfill'
import './style.css'

const orders = require('../../utilities/mock_data.js').logistic_orders
const http = require('../../common/http.js')
const OrderListTemplate = require('./templates/orderlist.template')
const HeaderTemplate = require('../../components/HeaderComponent/index.js')

$((function(host) {
  let orderListHTML = OrderListTemplate({
    orders: orders
  })

  let headerHTML = ''
  HeaderTemplate.getUserInfo().then(userStatus => {
    HeaderTemplate.getUserRole(userStatus).then(userStatus => {
      headerHTML = HeaderTemplate.render(userStatus)
      $('.header').html(headerHTML)
      HeaderTemplate.bindEventHandlers($('.header'))
    }, error => {})
  }, error => {})

  $('.order-list').html(orderListHTML)

})(window))
